
SWAL:
	Inherits: ^Wall
	RenderSprites:
		Palette: scrin
	Building:
		BuildSounds: scrinbuild.aud
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 30
		Prerequisites: anypower, ~structures.scrin
		Description: Stops units and blocks enemy fire. Regenerates over time.
		IconPalette: scrin
	Valued:
		Cost: 200
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: Biometallic Wall
	SoundOnDamageTransition:
		DamagedSounds: crmble2.aud
		DestroyedSounds: kaboom30.aud
	Health:
		HP: 36000
	ChangesHealth:
		PercentageStep: 1
		Delay: 10
		StartIfBelow: 100
		DamageCooldown: 25
	Crushable:
		CrushClasses: heavywall
	BlocksProjectiles:
	LineBuild:
		NodeTypes: scrinwall
	LineBuildNode:
		Types: scrinwall
	WithWallSpriteBody:
		Type: scrinwall

SFAC:
	Inherits: ^ScrinBuilding
	Inherits: ^3x2Building+Bib
	Inherits: ^ConcreteArmor
	Inherits: ^BotFallbackInsurance
	Inherits: ^StructureProduction
	Buildable:
		Queue: Building
		BuildPaletteOrder: 1000
		Prerequisites: ~conyardbuildable, ~structures.scrin, srep
		IconPalette: chrometd
		Description: Produces structures.
	Health:
		HP: 150000
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Valued:
		Cost: 2500
	Tooltip:
		Name: Colony Platform
	BaseBuilding:
	Transforms:
		RequiresCondition: factundeploy
		PauseOnCondition: chrono-vortex || being-captured || c4 || build-incomplete || being-warped
		IntoActor: smcv
		Offset: 1,0
		Facing: 384
	TransformsIntoMobile:
		RequiresCondition: factundeploy
		Locomotor: heavywheeled
		RequiresForceMove: true
	TransformsIntoPassenger:
		RequiresCondition: factundeploy
		CargoType: Vehicle
		RequiresForceMove: true
	TransformsIntoRepairable:
		RequiresCondition: factundeploy
		RepairActors: fix, rep
		RequiresForceMove: true
	TransformsIntoTransforms:
		RequiresCondition: factundeploy && build-incomplete
	Sellable:
		RequiresCondition: !build-incomplete && !chrono-vortex && !being-captured && !c4 && !being-warped
	GrantConditionOnPrerequisite@GLOBALFACTUNDEPLOY:
		Condition: factundeploy
		Prerequisites: global-factundeploy
	ProvidesPrerequisite@scrin:
		Prerequisite: structures.scrin
	ProvidesPrerequisite@reaper:
		Factions: reaper
		Prerequisite: structures.reaper
	ProvidesPrerequisite@traveler:
		Factions: traveler
		Prerequisite: structures.traveler
	ProvidesPrerequisite@harvester:
		Factions: harvester
		Prerequisite: structures.harvester
	WithBuildingPlacedAnimation:
		RequiresCondition: !build-incomplete && !chrono-vortex
	Power:
		Amount: 0
		RequiresCondition: !being-warped
	ConyardChronoReturn:
		ReturnOriginalActorOnCondition: build-incomplete
		Condition: chrono-vortex
		Damage: 950
	TransferTimedExternalConditionOnTransform:
		Condition: invulnerability
	SpawnActorsOnSell:
		ActorTypes: s1,s1,s1,s1,s6

SFAC.Nukular:
	Inherits: SFAC
	Inherits: ^NukularConyard
	RenderSprites:
		Image: SFAC
	Transforms:
		IntoActor: smcv.nukular

REAC:
	Inherits: ^ScrinBuilding
	Inherits: ^ScrinSpriteTS
	Inherits: ^DisabledByPowerOutage
	Inherits: ^2x2Building+Bib
	Inherits: ^PowerDrainable
	HitShape:
		TargetableOffsets: 630,299,0
	WithSpriteBody:
		PauseOnCondition: disabled
	Buildable:
		Queue: Building
		BuildPaletteOrder: 10
		Prerequisites: ~structures.scrin
		IconPalette: scrin
		Description: Provides power for other structures.
	Valued:
		Cost: 300
	Tooltip:
		Name: Reactor
	ProvidesPrerequisite:
		Prerequisite: anypower
	Health:
		HP: 40000
	RevealsShroud:
		Range: 4c0
	Power:
		Amount: 100
		RequiresCondition: !disabled && !forceshield && !being-warped
	ProvidesPrerequisite:
		Prerequisite: anypower
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate, PowerInfiltrate
	ScalePowerWithHealth:
	ProvidesPrerequisite@buildingname:
	InfiltrateForPowerOutage:
		Types: SpyInfiltrate, PowerInfiltrate

REA2:
	Inherits: ^ScrinBuilding
	Inherits: ^ScrinSpriteRA2
	Inherits: ^DisabledByPowerOutage
	Inherits: ^3x2Building+Bib
	Inherits: ^PowerDrainable
	HitShape:
		TargetableOffsets: -355,-1024,0
	WithSpriteBody:
		PauseOnCondition: disabled
	Buildable:
		Queue: Building
		BuildPaletteOrder: 110
		Prerequisites: nerv, ~structures.scrin
		IconPalette: chrome
		Description: Provides double the power of\na standard Reactor.
	Valued:
		Cost: 500
	Tooltip:
		Name: Advanced Reactor
	ProvidesPrerequisite:
		Prerequisite: anypower
	Health:
		HP: 70000
	RevealsShroud:
		Range: 5c0
	Power:
		Amount: 200
		RequiresCondition: !disabled && !forceshield && !being-warped
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate, PowerInfiltrate
	ProvidesPrerequisite@buildingname:
	ScalePowerWithHealth:
	InfiltrateForPowerOutage:
		Types: SpyInfiltrate, PowerInfiltrate

PROC.SCRIN:
	Inherits: ^ScrinBuilding
	Inherits: ^3x3Building+Bib
	Inherits: ^ScrinSpriteRA2
	Inherits: ^BotIncome
	Inherits: ^Refinery
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 853
	HitShape@TOP:
		Type: Rectangle
			TopLeft: -512, -1450
			BottomRight: 896, -512
	Valued:
		Cost: 2000
	Tooltip:
		Name: Refinery
	Buildable:
		BuildPaletteOrder: 60
		Prerequisites: anypower, ~structures.scrin
		Queue: Building
		IconPalette: scrin
		Description: Processes raw Tiberium, Ore and Gems\ninto credits.
	Building:
		Footprint: _x_ xxx === ===
	Health:
		HP: 90000
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Targetable:
		TargetTypes: Ground, Structure, C4, DetonateAttack, ThiefInfiltrate
	Refinery:
		DockAngle: 448
		DockOffset: 0,2
		IsDragRequired: True
		DragOffset: -554,512,0
		DragLength: 12
		TickRate: 15
	FreeActor:
		Actor: HARV.Scrin
		SpawnOffset: 1,2
		Facing: 64
	Power:
		Amount: -30
		RequiresCondition: !being-warped
	ProvidesPrerequisite@buildingname:
	SpawnActorsOnSell:
		ActorTypes: s1, s1, s1, s1, s1, s1, s1, s1

PORT:
	Inherits: ^ScrinBuilding
	Inherits: ^ScrinSpriteTS
	Inherits: ^2x2Building+Bib
	Inherits: ^PrimaryBuilding
	Inherits: ^InfantryProduction
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 840,-256,0, 840,512,0, 210,-512,0, -71,512,0
		Type: Rectangle
			TopLeft: -1024, -1024
			BottomRight: 1024, 640
	Buildable:
		Queue: Building
		BuildPaletteOrder: 20
		Prerequisites: anypower, ~structures.scrin
		IconPalette: scrin
		Description: Produces infantry.
	Valued:
		Cost: 500
	Tooltip:
		Name: Portal
	Health:
		HP: 60000
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: 0,512,0
		ExitCell: 1,2
	Power:
		Amount: -20
		RequiresCondition: !being-warped
	ProvidesPrerequisite@buildingname:
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SabInfiltrate, SpyInfiltrate
	InfiltrateForSupportPower@inf:
		Types: SabInfiltrate
		Proxy: inf.scrin.stolen
	InfiltrateForSupportPower@spy:
		Proxy: barracks.upgraded
		Types: SpyInfiltrate

WSPH:
	Inherits: ^ScrinBuilding
	Inherits: ^ScrinSpriteRA2
	Inherits: ^PrimaryBuilding
	Inherits: ^VehicleProduction
	Inherits: ^3x2Building+Bib
	HitShape:
		TargetableOffsets: 0,0,0, 0,1024,0, 0,-1024,0
		Type: Rectangle
			TopLeft: -1536, -1024
			BottomRight: 1536, 512
	Buildable:
		Queue: Building
		BuildPaletteOrder: 80
		Prerequisites: proc.scrin, ~structures.scrin
		IconPalette: scrin
		Description: Produces vehicles.
	Valued:
		Cost: 2000
	Tooltip:
		Name: Warp Sphere
	Health:
		HP: 150000
	Exit@1:
		SpawnOffset: 0,0,0
		ExitCell: 0,2
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SabInfiltrate, SpyInfiltrate
	Power:
		Amount: -30
		RequiresCondition: !being-warped
	ProvidesPrerequisite@buildingname:
	InfiltrateForSupportPower@spy:
		Proxy: vehicles.upgraded
		Types: SpyInfiltrate
	InfiltrateForSupportPower@veh:
		Types: SabInfiltrate
		Proxy: veh.scrin.stolen

NERV:
	Inherits: ^ScrinBuilding
	Inherits: ^ScrinSpriteRA2
	Inherits: ^TechLevelBuilding
	Inherits: ^Tier2Tech
	Inherits: ^2x2Building+Bib
	Inherits: ^DisableOnLowPowerOrPowerDownOrForceDisable
	Inherits: ^RadarStation
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 630,-384,0, 630,384,0, -700,-512,0, -700,512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 90
		Prerequisites: proc.scrin, ~structures.scrin, ~!techlevel.low
		Description: Provides an overview of the battlefield.\n  Requires power to operate.
		IconPalette: scrin
	Valued:
		Cost: 1800
	Tooltip:
		Name: Nerve Center
	Building:
		LocalCenterOffset: 0,-768,0
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate,  SabInfiltrate
	Health:
		HP: 100000
	RevealsShroud:
		MinRange: 6c0
		Range: 10c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 6c0
		RequiresCondition: !disabled
	InfiltrateForExploration:
		Types: SpyInfiltrate, SabInfiltrate
	Power:
		Amount: -40
		RequiresCondition: !being-warped
	ProvidesPrerequisite@radar:
		Prerequisite: radar
	ProvidesPrerequisite@scrinrad:
		Factions: scrin, reaper, traveler, harvester
		Prerequisite: radar.scrin
	ProvidesPrerequisite@buildingname:
	InfiltrateForSupportPower@tec:
		Types: SabInfiltrate
		Proxy: rad.scrin.stolen
	Exit:

SCRT:
	Inherits: ^ScrinBuilding
	Inherits: ^TechLevelBuilding
	Inherits: ^Tier3Tech
	Inherits: ^DisableOnLowPowerOrForceDisabled
	Inherits: ^2x2Building+Bib
	Buildable:
		Queue: Building
		BuildPaletteOrder: 150
		Prerequisites: wsph, nerv, ~structures.scrin, ~!techlevel.medium
		Description: Provides Scrin advanced technologies.
		IconPalette: scrin
	Valued:
		Cost: 1500
	Tooltip:
		Name: Scrin Tech Center
	Health:
		HP: 100000
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SabInfiltrate
	InfiltrateForSupportPower@tec:
		Types: SabInfiltrate
		Proxy: tec.scrin.stolen
	Power:
		Amount: -200
		RequiresCondition: !being-warped
	ProvidesPrerequisite@buildingname:
	Exit:

GRAV:
	Inherits: ^ScrinBuilding
	Inherits: ^3x2Building+Bib
	Inherits: ^PrimaryBuilding
	Inherits: ^AircraftProduction
	HitShape:
		TargetableOffsets: -355,-1024,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 130
		Prerequisites: nerv, ~structures.scrin
		Description: Produces Scrin aircraft.
		IconPalette: scrin
	Valued:
		Cost: 500
	Tooltip:
		Name: Gravity Stabilizer
	Building:
		LocalCenterOffset: 0,-768,0
	Health:
		HP: 100000
	Exit@1:
		RequiresCondition: !being-captured
		ExitCell: 1,1
		Facing: 180
	ProvidesPrerequisite@all:
		Prerequisite: aircraft.all
	ProvidesPrerequisite@scrin:
		Factions: scrin, reaper, traveler, harvester
		Prerequisite: aircraft.scrin
	ProvidesPrerequisite@reaper:
		Factions: reaper
		Prerequisite: aircraft.reaper
	ProvidesPrerequisite@traveler:
		Factions: traveler
		Prerequisite: aircraft.traveler
	ProvidesPrerequisite@harvester:
		Factions: harvester
		Prerequisite: aircraft.harvester
	ProvidesPrerequisite@scrinstructure:
		RequiresPrerequisites: structures.scrin
		Prerequisite: aircraft.scrin
	ProvidesPrerequisite@reaperstructure:
		RequiresPrerequisites: structures.reaper
		Prerequisite: aircraft.reaper
	ProvidesPrerequisite@travelerstructure:
		RequiresPrerequisites: structures.traveler
		Prerequisite: aircraft.traveler
	ProvidesPrerequisite@habringerstructure:
		RequiresPrerequisites: structures.harvester
		Prerequisite: aircraft.harvester
	SupportPowerChargeBar:
	Power:
		Amount: -20
		RequiresCondition: !being-warped
	ProvidesPrerequisite@buildingname:
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate
	WithIdleOverlay@orb:
		RequiresCondition: !build-incomplete
	WithIdleOverlay@pylon:
		Sequence: idle-pylon
		RequiresCondition: !build-incomplete && !damaged
	GrantConditionOnDamageState@DAMAGED:
		Condition: damaged
		ValidDamageStates: Light, Medium, Heavy, Critical

SIGN:
	Inherits: ^ScrinBuilding
	Inherits: ^TechLevelBuilding
	Inherits: ^Tier4Tech
	Inherits: ^DisableOnLowPowerOrForceDisabled
	Inherits: ^3x2Building+Bib
	HitShape:
		TargetableOffsets: -355,-1024,0
	Health:
		HP: 80000
	Buildable:
		Queue: Building
		BuildPaletteOrder: 200
		Prerequisites: ~structures.scrin, scrt
		Description: Provides Scrin tier 4 technologies.\n  Maximum 1 can be built.\n  Cannot be captured.
		BuildLimit: 1
		IconPalette: scrin
	-Capturable:
	-CaptureNotification:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-CaptureManager:
	Valued:
		Cost: 2500
	Tooltip:
		Name: Signal Transmitter
	Power:
		Amount: -150
		RequiresCondition: !being-warped
	Targetable:
		TargetTypes: Ground, Structure, C4, DetonateAttack
	ProvidesPrerequisite@Name:
		RequiresCondition: !being-warped
	Sellable:
		RequiresCondition: !build-incomplete && !c4 && !being-warped
	Exit:

SREP:
	Inherits: ^ScrinBuilding
	Inherits: ^ScrinSpriteRA2
	Inherits: ^3x3Shape
	HitShape:
		TargetableOffsets: 840,0,0, 598,-640,0, 598,640,0, -1060,0,0, -768,-640,0, -768,640,0
		Type: Polygon
			Points: -1536,-300, -640,-811, 640,-811, 1536,-300, 1536,555, 640,1110, -640,1110, -1536,555
	Buildable:
		Queue: Building
		BuildPaletteOrder: 100
		Prerequisites: vehicles.scrin, ~structures.scrin
		Description: Repairs vehicles for credits.
		IconPalette: scrin
	Valued:
		Cost: 1200
	Tooltip:
		Name: Repair Bay
	Building:
		Footprint: _+_ +++ _+_
		Dimensions: 3,3
	Health:
		HP: 80000
	WithBuildingBib:
		Sequence: bibFix
		HasMinibib: true
	Reservable:
	RallyPoint:
	RepairsUnits:
		HpPerStep: 1000
		Interval: 7
		StartRepairingNotification: Repairing
		FinishRepairingNotification: UnitRepaired
		PlayerExperience: 15
		RequiresCondition: !forceshield && !invulnerability && !being-warped
	WithResupplyAnimation:
		RequiresCondition: !build-incomplete
	Power:
		Amount: -30
		RequiresCondition: !being-warped
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@repair:
		Prerequisite: repair
	ProximityExternalCondition@AIRCRAFTREPAIR:
		Condition: aircraft-repair
		Range: 10c0
	WithRangeCircle@AIRCRAFTREPAIR:
		Color: 888899AA
		Range: 10c0

SILO.SCRIN:
	Inherits: ^ScrinBuilding
	Inherits: ^ScrinSpriteRA2
	Valued:
		Cost: 150
	Tooltip:
		Name: Silo
	Buildable:
		BuildPaletteOrder: 35
		Prerequisites: proc.scrin, ~structures.scrin
		Queue: Defense
		IconPalette: scrin
		Description: Stores processed Tiberium, Ore and Gems
	-GivesBuildableArea:
	Health:
		HP: 30000
	WithBuildingBib:
		Sequence: bibSilo
		HasMinibib: true
	Targetable:
		TargetTypes: Ground, Structure, C4, DetonateAttack
	-WithSpriteBody:
	WithResourceLevelSpriteBody:
		Sequence: stages
	StoresPlayerResources:
		Capacity: 5000
	-MustBeDestroyed:
	SpawnActorsOnSell:
		ActorTypes: c1,c7
	Power:
		Amount: -10
		RequiresCondition: !being-warped
	FireWarheadsOnDeathCA:
		Weapon: SmallBuildingExplode
		EmptyWeapon: SmallBuildingExplode
	WithResourceStoragePipsDecoration:
		Position: BottomLeft
		RequiresSelection: true
		PipCount: 5

MANI:
	Inherits: ^ScrinBuilding
	Inherits: ^DisableOnLowPowerOrPowerDownOrForceDisable
	Inherits: ^2x2Building+Bib
	Inherits: ^SuperWeapon
	Inherits: ^ScrinSuperweaponSmall
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 130
		Prerequisites: scrt, ~structures.scrin, ~techlevel.superw
		BuildLimit: 1
		IconPalette: chrome
		Description: Slows enemy unit movement and rate of fire.\n  Requires power to operate.\n  Maximum 1 can be built.\n  Special Ability: Suppression Field
	Valued:
		Cost: 1500
	Tooltip:
		Name: Field Manipulator
	Health:
		HP: 100000
	SupportPowerChargeBar:
	Power:
		Amount: -200
		RequiresCondition: !being-warped
	MustBeDestroyed:
		RequiredForShortGame: false
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -1536, -1024
			BottomRight: 1024, 1024
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate, SabInfiltrate
	Targetable:
		TargetTypes: Ground, Structure, C4, DetonateAttack, SpyInfiltrate, SabInfiltrate

RIFT:
	Inherits: ^ScrinBuilding
	Inherits: ^DisableOnLowPowerOrPowerDownOrForceDisable
	Inherits: ^2x2Shape
	Inherits: ^SuperWeapon
	Inherits: ^ScrinSuperweaponBig
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 130
		Prerequisites: scrt, ~structures.scrin, ~techlevel.superw
		BuildLimit: 1
		Description: Provides Rift support power.\n  Requires power to operate.\n  Maximum 1 can be built.\n  Special Ability: Rift
		IconPalette: chrome
	Valued:
		Cost: 2500
	Tooltip:
		Name: Rift Generator
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 100000
	WithBuildingBib:
		HasMinibib: true
		Sequence: bibIron
	WithIdleOverlay@ACTIVE:
		Sequence: active-overlay
		Palette: scrin
		RequiresCondition: active
	ExternalCondition@ACTIVE:
		Condition: active
	SupportPowerChargeBar:
	Power:
		Amount: -200
		RequiresCondition: !being-warped
	ProvidesPrerequisite@buildingname:
	MustBeDestroyed:
		RequiredForShortGame: false
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate, SabInfiltrate
	Targetable:
		TargetTypes: Ground, Structure, C4, DetonateAttack, SpyInfiltrate, SabInfiltrate

PTUR:
	Inherits: ^Defense
	Inherits: ^ScrinSpriteTS
	Inherits: ^AutoTargetGround
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 60
		Prerequisites: port, ~structures.scrin
		Description: Anti-infantry base defense.\n  Can detect cloaked units.\n  Strong vs Infantry, Light Armor\n  Weak vs Tanks, Aircraft
		IconPalette: chrome
	Valued:
		Cost: 600
	Tooltip:
		Name: Plasma Cannon
	Building:
	Health:
		HP: 40000
	WithBuildingBib:
		Sequence: bibGun
		HasMinibib: true
	Turreted:
		TurnSpeed: 48
		InitialFacing: 48
		PauseOnCondition: empdisable || being-warped
	WithSpriteBody:
	WithSpriteTurret:
	Armament:
		Weapon: PlasmaTurretGun
		LocalOffset: 450,70,500, 450,-70,500
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
	AttackTurreted:
		RequiresCondition: !build-incomplete
		PauseOnCondition: empdisable || being-warped
	WithMuzzleOverlay:
	Power:
		Amount: -25
		RequiresCondition: !being-warped
	BodyOrientation:
		UseClassicFacings: False
	SpawnActorOnDeath:
		Actor: s1
	-SpawnRandomActorOnDeath:

SHAR:
	Inherits: ^Defense
	Inherits: ^ScrinSpriteTS
	Inherits: ^DisableOnLowPowerOrPowerDown
	Inherits: ^AutoTargetAir
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 90
		Prerequisites: nerv, ~structures.scrin
		Description: Anti-aircraft base defense.\n  Requires power to operate.\n  Strong vs Aircraft\n  Weak vs Ground Units
		IconPalette: chrome
	Valued:
		Cost: 800
	Tooltip:
		Name: Shard Launcher
	Health:
		HP: 50000
	WithBuildingBib:
		Sequence: bibTesla
		HasMinibib: true
	Turreted:
		TurnSpeed: 60
		InitialFacing: 48
	WithSpriteBody:
	WithSpriteTurret:
		PauseOnCondition: disabled || empdisable || being-warped
	Armament@PRIMARY:
		Weapon: ShardLauncher
		LocalOffset: 0,0,1050
	AttackTurreted:
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled || empdisable || being-warped
	RenderRangeCircle:
		RangeCircleType: aa
	Power:
		Amount: -50
		RequiresCondition: !being-warped
	BodyOrientation:
		UseClassicFacings: False
	DetectCloaked:
		RequiresCondition: !(disabled || empdisable || being-warped)
	SpawnActorOnDeath:
		Actor: s1
	-SpawnRandomActorOnDeath:

SCOL:
	Inherits: ^Defense
	Inherits: ^ScrinSpriteRA2
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@Flash: ^WhiteFlash
	RenderSprites:
		PlayerPalette: overlayplayerscrin
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 80
		Prerequisites: nerv, ~structures.scrin
		Description: Advanced base defense.\n  Requires power to operate.\n  Can detect cloaked units.\n  Strong vs Infantry, Vehicles\n  Weak vs Aircraft
		IconPalette: chrome
	Valued:
		Cost: 1500
	Tooltip:
		Name: Storm Column
	Health:
		HP: 45000
	WithBuildingBib:
		Sequence: bibTesla
		HasMinibib: true
	Armament:
		Weapon: StormColumnZap
		LocalOffset: 0,0,900, 0,0,1100, 0,0,700, 0,0,1300, 0,0,500
		RequiresCondition: !lowpower
	AttackOmni:
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled || empdisable || being-warped
	Power:
		Amount: -100
		RequiresCondition: !being-warped
	DetectCloaked:
		RequiresCondition: !(disabled || empdisable || being-warped)
	SpawnActorOnDeath:
		Actor: s1
	-SpawnRandomActorOnDeath:
	Targetable@StormBoost:
		TargetTypes: StormBoost
		RequiresCondition: !(powerdown || charged)
	AmbientSoundCA@IONSTORM:
		SoundFiles: ionstorm.aud
		Delay: 0
		Interval: 850
		VolumeMultiplier: 0.4
		RequiresCondition: storm-active
	SpawnNeighboringActors@IONSTORM:
		ActorTypes: strm
		Locations: 0,1, 1,0, -1,0
		RecreationInterval: 150
		KillOnRemove: true
		RequiresCondition: storm-active
	GrantConditionOnAttackCA@IONSTORM:
		RequiresActorTarget: true
		Condition: storm-active
		RevokeDelay: 75
		RevokeAll: true
		MaximumInstances: 70
	RangeMultiplier@IONSTORM1:
		Modifier: 105
		RequiresCondition: storm-active >= 14
	FirepowerMultiplier@IONSTORM1:
		Modifier: 105
		RequiresCondition: storm-active >= 14
	DamageMultiplier@IONSTORM1:
		Modifier: 95
		RequiresCondition: storm-active >= 14
	RangeMultiplier@IONSTORM2:
		Modifier: 105
		RequiresCondition: storm-active >= 28
	FirepowerMultiplier@IONSTORM2:
		Modifier: 105
		RequiresCondition: storm-active >= 28
	DamageMultiplier@IONSTORM2:
		Modifier: 95
		RequiresCondition: storm-active >= 28
	RangeMultiplier@IONSTORM3:
		Modifier: 105
		RequiresCondition: storm-active >= 42
	FirepowerMultiplier@IONSTORM3:
		Modifier: 105
		RequiresCondition: storm-active >= 42
	DamageMultiplier@IONSTORM3:
		Modifier: 95
		RequiresCondition: storm-active >= 42
	RangeMultiplier@IONSTORM4:
		Modifier: 105
		RequiresCondition: storm-active >= 56
	FirepowerMultiplier@IONSTORM4:
		Modifier: 105
		RequiresCondition: storm-active >= 56
	DamageMultiplier@IONSTORM4:
		Modifier: 95
		RequiresCondition: storm-active >= 56

STRM:
	Inherits: ^ExistsInWorld
	Inherits: ^SpriteActor
	Inherits: ^AutoTargetAll
	RenderSprites:
		Palette: ioncloud-ignore-lighting-alpha50
	HiddenUnderFog:
		Type: CenterPosition
	Tooltip:
		Name: Ion Storm
	Health:
		HP: 1
	HitShape:
	KillsSelf:
		RemoveInstead: False
		Delay: 350, 450
	Wanders:
		WanderMoveRadius: 1
		ReduceMoveRadiusDelay: 3
	WithSpriteBody:
		RequiresCondition: strm1
		StartSequence: make
	WithDeathAnimation:
		RequiresCondition: strm1
		DeathPaletteIsPlayerPalette: False
		UseDeathTypeSuffix: False
		CrushedSequence: die
		FallbackSequence: die
		DeathSequencePalette: ioncloud-ignore-lighting-alpha50
	WithSpriteBody@Cloud2:
		RequiresCondition: strm2
		StartSequence: make2
		Sequence: idle2
		Name: body2
	WithDeathAnimation@Cloud2:
		DeathSequence: die2
		RequiresCondition: strm2
		DeathPaletteIsPlayerPalette: False
		UseDeathTypeSuffix: False
		CrushedSequence: die2
		FallbackSequence: die2
		DeathSequencePalette: ioncloud-ignore-lighting-alpha50
	WithSpriteBody@Cloud3:
		RequiresCondition: strm3
		StartSequence: make3
		Sequence: idle3
		Name: body3
	WithDeathAnimation@Cloud3:
		DeathSequence: die3
		DeathPaletteIsPlayerPalette: False
		UseDeathTypeSuffix: False
		CrushedSequence: die3
		FallbackSequence: die3
		RequiresCondition: strm3
		DeathSequencePalette: ioncloud-ignore-lighting-alpha50
	WithSpriteBody@Cloud4:
		RequiresCondition: strm4
		StartSequence: make4
		Sequence: idle4
		Name: body4
	WithDeathAnimation@Cloud4:
		DeathSequence: die4
		DeathPaletteIsPlayerPalette: False
		UseDeathTypeSuffix: False
		CrushedSequence: die4
		FallbackSequence: die4
		RequiresCondition: strm4
		DeathSequencePalette: ioncloud-ignore-lighting-alpha50
	Mobile:
		Locomotor: cloud
		Speed: 3
	Hovers:
		Ticks: 12
	Interactable:
	GrantRandomCondition@CloudShape:
		Conditions: strm1, strm2, strm3, strm4
	GrantRandomCondition@LiveCloud:
		Conditions: live, dead, dead, dead, dead, dead, dead, dead
	AutoTargetPriority@STORM:
		ValidTargets: StormBoost
		Priority: 1
	AutoTargetPriority@ATTACKANYTHING:
		Priority: 10
	AutoTarget:
		InitialStance: AttackAnything
	AmbientSoundCA@AMBIENCE:
		SoundFiles: thunder1.aud, thunder2.aud, thunder3.aud, thunder4.aud, thunder5.aud, thunder-ambient.aud
		Delay: 20, 200
		Interval: 250, 1250
		VolumeMultiplier: 0.3
		RequiresCondition: live && !dead
	Armament:
		Weapon: StormColumnCloudZap
		LocalOffset: 0,0,0
	Armament@charge:
		FireDelay: 15
		Name: secondary
		Weapon: StormColumnCloudCharge
		LocalOffset: 0,0,0
		TargetRelationships: Ally
		ForceTargetRelationships: None
	GrantConditionOnAttack@CHARGESFX:
		ArmamentNames: secondary
		Condition: charge-fire
		RevokeDelay: 200
	AmbientSoundCA@CHARGESFX:
		SoundFiles: stormcolumn-fire1.aud, stormcolumn-fire2.aud
		Delay: 0
		Interval: 250
		VolumeMultiplier: 0.4
		RequiresCondition: charge-fire
	AttackTurreted:
		RequiresCondition: live
	Turreted:
		Offset: 0,0, 3072
	JamsMissiles@IONSTORM:
		RequiresCondition: live
		Chance: 10
		Range: 5c0

SCOL.Temp:
	RenderSprites:
		Image: scol
	Inherits: SCOL
	-Sellable:
	-Buildable:
	Health:
		HP: 20000
	KillsSelf:
		Delay: 800
	-Power:
	-SpawnActorOnDeath:
	-WithBuildingRepairDecoration:
	-RepairableBuilding:
	-InstantlyRepairable:
	-GrantConditionOnPowerState@LOWPOWER:
	-WithColoredOverlay@IDISABLE:
	-GrantCondition@IDISABLE:
	-PowerMultiplier@POWERDOWN:
	-WithDecoration@POWERDOWN:
	-ToggleConditionOnOrder:
	-Armament:
	Armament:
		Weapon: StormColumnZap
		LocalOffset: 0,0,900, 0,0,1100, 0,0,700, 0,0,1300, 0,0,500
	AttackOmni:
		RequiresCondition: !build-incomplete
		PauseOnCondition: empdisable || being-warped
	DetectCloaked:
		RequiresCondition: !(empdisable || being-warped)
